<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy"
    content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; img-src 'self' data: https:; font-src 'self' data: https://fonts.gstatic.com https://db.onlinewebfonts.com;">
  <title>EVOS Browser</title>

  <!-- Custom Font - Architype Van Der Leck (Local for offline) -->
  <style>
    @font-face {
      font-family: 'Architype Van Der Leck W90';
      src: url('../../assets/fonts/architype-van.ttf') format('truetype');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }
  </style>

  <link rel="stylesheet" href="styles/main.css">
  <link rel="stylesheet" href="styles/titlebar.css">
  <link rel="stylesheet" href="styles/tabs.css">
  <link rel="stylesheet" href="styles/tab-groups.css">
  <link rel="stylesheet" href="styles/navbar.css">
  <link rel="stylesheet" href="styles/panels.css">
  <link rel="stylesheet" href="styles/ai-panel.css">
  <link rel="stylesheet" href="styles/agent.css">
  <link rel="stylesheet" href="styles/quick-action-bar.css">
</head>

<body class="dark-theme">
  <!-- Title Bar -->
  <div id="titlebar">
    <div class="titlebar-branding">
      <img src="../../assets/icons/Logo.png" alt="EVOS" class="titlebar-logo">
    </div>
    <div id="tabs-container">
      <button id="btn-new-tab" class="new-tab-btn" title="New Tab (Ctrl+T)">
        <svg width="14" height="14" viewBox="0 0 14 14">
          <path d="M7 1v12M1 7h12" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
        </svg>
      </button>
    </div>
    <div class="titlebar-drag-region"></div>
    <div class="titlebar-controls">
      <button id="btn-minimize" class="titlebar-btn" title="Minimize">
        <svg width="12" height="12" viewBox="0 0 12 12">
          <rect width="10" height="1" x="1" y="6" fill="currentColor" />
        </svg>
      </button>
      <button id="btn-maximize" class="titlebar-btn" title="Maximize">
        <svg width="12" height="12" viewBox="0 0 12 12">
          <rect width="9" height="9" x="1.5" y="1.5" fill="none" stroke="currentColor" stroke-width="1" />
        </svg>
      </button>
      <button id="btn-close" class="titlebar-btn btn-close" title="Close">
        <svg width="12" height="12" viewBox="0 0 12 12">
          <path d="M1 1l10 10M11 1L1 11" stroke="currentColor" stroke-width="1.5" />
        </svg>
      </button>
    </div>
  </div>

  <!-- Navigation Bar -->
  <div id="navbar">
    <div class="nav-buttons">
      <button id="btn-back" class="nav-btn" title="Back (Alt+Left)" disabled>
        <svg width="16" height="16" viewBox="0 0 16 16">
          <path d="M10 3L5 8l5 5" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"
            stroke-linejoin="round" />
        </svg>
      </button>
      <button id="btn-forward" class="nav-btn" title="Forward (Alt+Right)" disabled>
        <svg width="16" height="16" viewBox="0 0 16 16">
          <path d="M6 3l5 5-5 5" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"
            stroke-linejoin="round" />
        </svg>
      </button>
      <button id="btn-reload" class="nav-btn" title="Reload (Ctrl+R)">
        <svg width="16" height="16" viewBox="0 0 16 16" class="reload-icon">
          <path d="M13.5 8a5.5 5.5 0 11-1.5-3.8" stroke="currentColor" stroke-width="2" fill="none"
            stroke-linecap="round" />
          <path d="M13.5 2v3h-3" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"
            stroke-linejoin="round" />
        </svg>
        <svg width="16" height="16" viewBox="0 0 16 16" class="stop-icon" style="display: none;">
          <path d="M4 4l8 8M12 4l-8 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
        </svg>
      </button>
      <button id="btn-home" class="nav-btn" title="Home">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <path d="M2 8l6-6 6 6M4 7v6h3v-4h2v4h3V7" stroke="currentColor" stroke-width="1.5" fill="none"
            stroke-linecap="round" stroke-linejoin="round" />
        </svg>
      </button>
    </div>

    <div class="url-bar-container">
      <div class="security-indicator" id="security-indicator" title="Connection is secure">
        <svg width="14" height="14" viewBox="0 0 14 14" class="secure-icon">
          <path
            d="M3 6V5a4 4 0 118 0v1h1a1 1 0 011 1v5a1 1 0 01-1 1H2a1 1 0 01-1-1V7a1 1 0 011-1h1zm2 0h4V5a2 2 0 10-4 0v1z"
            fill="currentColor" />
        </svg>
        <svg width="14" height="14" viewBox="0 0 14 14" class="insecure-icon" style="display: none;">
          <circle cx="7" cy="7" r="6" stroke="currentColor" stroke-width="1.5" fill="none" />
          <path d="M7 4v4M7 9.5v.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
        </svg>
      </div>
      <input type="text" id="url-input" class="url-input" placeholder="Search or enter URL" autocomplete="off"
        spellcheck="false">
      <button id="btn-bookmark" class="url-action-btn" title="Bookmark this page (Ctrl+D)">
        <svg width="16" height="16" viewBox="0 0 16 16" class="bookmark-empty">
          <path d="M3 2h10a1 1 0 011 1v12l-5.5-3L3 15V3a1 1 0 011-1z" stroke="currentColor" stroke-width="1.5"
            fill="none" />
        </svg>
        <svg width="16" height="16" viewBox="0 0 16 16" class="bookmark-filled" style="display: none;">
          <path d="M3 2h10a1 1 0 011 1v12l-5.5-3L3 15V3a1 1 0 011-1z" fill="currentColor" />
        </svg>
      </button>
    </div>

    <div class="toolbar-buttons">
      <button id="btn-ai" class="toolbar-btn ai-btn" title="AI Assistant (Ctrl+Shift+A)">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M12 2a10 10 0 1 0 10 10H12V2z" />
          <path d="M12 2a10 10 0 0 1 10 10" />
          <circle cx="12" cy="12" r="3" />
        </svg>
      </button>
      <button id="btn-downloads" class="toolbar-btn" title="Downloads">
        <svg width="18" height="18" viewBox="0 0 18 18">
          <path d="M9 2v10M5 8l4 4 4-4M3 14h12" stroke="currentColor" stroke-width="2" fill="none"
            stroke-linecap="round" stroke-linejoin="round" />
        </svg>
        <span class="badge" id="downloads-badge" style="display: none;">0</span>
      </button>
      <button id="btn-history" class="toolbar-btn" title="History (Ctrl+H)">
        <svg width="18" height="18" viewBox="0 0 18 18">
          <circle cx="9" cy="9" r="7" stroke="currentColor" stroke-width="1.5" fill="none" />
          <path d="M9 5v4l3 2" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round"
            stroke-linejoin="round" />
        </svg>
      </button>
      <button id="btn-bookmarks" class="toolbar-btn" title="Bookmarks (Ctrl+Shift+B)">
        <svg width="18" height="18" viewBox="0 0 18 18">
          <path d="M4 2h10a1 1 0 011 1v14l-5.5-3L4 17V3a1 1 0 011-1z" stroke="currentColor" stroke-width="1.5"
            fill="none" />
        </svg>
      </button>
      <button id="btn-menu" class="toolbar-btn" title="Menu">
        <svg width="18" height="18" viewBox="0 0 18 18">
          <circle cx="9" cy="3" r="1.5" fill="currentColor" />
          <circle cx="9" cy="9" r="1.5" fill="currentColor" />
          <circle cx="9" cy="15" r="1.5" fill="currentColor" />
        </svg>
      </button>
    </div>
  </div>

  <!-- Dropdown Menu -->
  <div id="dropdown-menu" class="dropdown-menu" style="display: none;">
    <div class="menu-item" id="menu-new-tab">
      <span class="menu-icon">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <path d="M8 2v12M2 8h12" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
        </svg>
      </span>
      <span class="menu-label">New Tab</span>
      <span class="menu-shortcut">Ctrl+T</span>
    </div>
    <div class="menu-item" id="menu-new-window">
      <span class="menu-icon">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <rect x="2" y="2" width="12" height="12" rx="1" stroke="currentColor" stroke-width="1.5" fill="none" />
          <path d="M2 5h12" stroke="currentColor" stroke-width="1.5" />
        </svg>
      </span>
      <span class="menu-label">New Window</span>
      <span class="menu-shortcut">Ctrl+N</span>
    </div>
    <div class="menu-divider"></div>
    <div class="menu-item" id="menu-history">
      <span class="menu-icon">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <circle cx="8" cy="8" r="6" stroke="currentColor" stroke-width="1.5" fill="none" />
          <path d="M8 4v4l2.5 1.5" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" />
        </svg>
      </span>
      <span class="menu-label">History</span>
      <span class="menu-shortcut">Ctrl+H</span>
    </div>
    <div class="menu-item" id="menu-downloads">
      <span class="menu-icon">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <path d="M8 2v8M4 7l4 4 4-4M2 12h12" stroke="currentColor" stroke-width="1.5" fill="none"
            stroke-linecap="round" stroke-linejoin="round" />
        </svg>
      </span>
      <span class="menu-label">Downloads</span>
    </div>
    <div class="menu-item" id="menu-bookmarks">
      <span class="menu-icon">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <path d="M3 2h10a1 1 0 011 1v12l-5.5-3L3 15V3a1 1 0 011-1z" stroke="currentColor" stroke-width="1.5"
            fill="none" />
        </svg>
      </span>
      <span class="menu-label">Bookmarks</span>
      <span class="menu-shortcut">Ctrl+Shift+B</span>
    </div>
    <div class="menu-divider"></div>
    <div class="menu-item" id="menu-zoom">
      <span class="menu-icon">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <circle cx="7" cy="7" r="5" stroke="currentColor" stroke-width="1.5" fill="none" />
          <path d="M11 11l3 3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
        </svg>
      </span>
      <span class="menu-label">Zoom</span>
      <span class="zoom-controls">
        <button id="zoom-out" class="zoom-btn">âˆ’</button>
        <span id="zoom-level">100%</span>
        <button id="zoom-in" class="zoom-btn">+</button>
      </span>
    </div>
    <div class="menu-divider"></div>
    <div class="menu-item" id="menu-print">
      <span class="menu-icon">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <path d="M4 4V1h8v3M4 11H2V6h12v5h-2" stroke="currentColor" stroke-width="1.5" fill="none"
            stroke-linejoin="round" />
          <rect x="4" y="9" width="8" height="6" stroke="currentColor" stroke-width="1.5" fill="none" />
        </svg>
      </span>
      <span class="menu-label">Print</span>
      <span class="menu-shortcut">Ctrl+P</span>
    </div>
    <div class="menu-item" id="menu-find">
      <span class="menu-icon">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <circle cx="7" cy="7" r="5" stroke="currentColor" stroke-width="1.5" fill="none" />
          <path d="M11 11l3 3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
        </svg>
      </span>
      <span class="menu-label">Find in page</span>
      <span class="menu-shortcut">Ctrl+F</span>
    </div>
    <div class="menu-divider"></div>
    <div class="menu-item" id="menu-devtools">
      <span class="menu-icon">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <path d="M5 5L1 8l4 3M11 5l4 3-4 3M9 2L7 14" stroke="currentColor" stroke-width="1.5" fill="none"
            stroke-linecap="round" stroke-linejoin="round" />
        </svg>
      </span>
      <span class="menu-label">Developer Tools</span>
      <span class="menu-shortcut">F12</span>
    </div>
    <div class="menu-divider"></div>
    <div class="menu-item" id="menu-settings">
      <span class="menu-icon">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <circle cx="8" cy="8" r="2" stroke="currentColor" stroke-width="1.5" fill="none" />
          <path d="M8 1v2M8 13v2M1 8h2M13 8h2M2.9 2.9l1.4 1.4M11.7 11.7l1.4 1.4M2.9 13.1l1.4-1.4M11.7 4.3l1.4-1.4"
            stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
        </svg>
      </span>
      <span class="menu-label">Settings</span>
    </div>
    <div class="menu-divider"></div>
    <div class="menu-item" id="menu-about">
      <span class="menu-icon">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <circle cx="8" cy="8" r="6" stroke="currentColor" stroke-width="1.5" fill="none" />
          <path d="M8 7v4M8 5v.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
        </svg>
      </span>
      <span class="menu-label">About EVOS Browser</span>
    </div>
  </div>

  <!-- Find Bar -->
  <div id="find-bar" class="find-bar" style="display: none;">
    <input type="text" id="find-input" class="find-input" placeholder="Find in page">
    <span id="find-results" class="find-results">0/0</span>
    <button id="find-prev" class="find-btn" title="Previous">
      <svg width="12" height="12" viewBox="0 0 12 12">
        <path d="M2 8l4-4 4 4" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"
          stroke-linejoin="round" />
      </svg>
    </button>
    <button id="find-next" class="find-btn" title="Next">
      <svg width="12" height="12" viewBox="0 0 12 12">
        <path d="M2 4l4 4 4-4" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round"
          stroke-linejoin="round" />
      </svg>
    </button>
    <button id="find-close" class="find-btn" title="Close">
      <svg width="12" height="12" viewBox="0 0 12 12">
        <path d="M2 2l8 8M10 2l-8 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
      </svg>
    </button>
  </div>

  <!-- Side Panel (for History, Bookmarks, Downloads) -->
  <div id="side-panel" class="side-panel" style="display: none;">
    <div class="panel-header">
      <h2 id="panel-title">Panel</h2>
      <button id="panel-close" class="panel-close-btn">
        <svg width="14" height="14" viewBox="0 0 14 14">
          <path d="M2 2l10 10M12 2L2 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
        </svg>
      </button>
    </div>
    <div class="panel-search">
      <input type="text" id="panel-search-input" placeholder="Search..." class="panel-search-input">
    </div>
    <div id="panel-content" class="panel-content"></div>
    <div class="panel-footer" id="panel-footer" style="display: none;">
      <button id="panel-clear-btn" class="panel-action-btn">Clear All</button>
    </div>
  </div>

  <!-- Browser Content Area -->
  <div id="browser-content">
    <div id="webviews-container"></div>
  </div>

  <!-- Loading indicator -->
  <div id="loading-bar" class="loading-bar" style="display: none;"></div>

  <!-- Status Bar -->
  <div id="status-bar" class="status-bar" style="display: none;">
    <span id="status-text"></span>
  </div>

  <!-- Scripts -->
  <script src="scripts/tabs.js"></script>
  <script src="scripts/navigation.js"></script>
  <script src="scripts/panels.js"></script>
  <script src="scripts/menu.js"></script>
  <script src="scripts/ai-panel.js"></script>
  <!-- Agent System -->
  <script src="scripts/agent-manager.js"></script>
  <script src="scripts/profile-manager.js"></script>
  <script src="scripts/form-agent.js"></script>
  <script src="scripts/tab-agent.js"></script>
  <script src="scripts/research-agent.js"></script>
  <script src="scripts/macro-agent.js"></script>
  <script src="scripts/search-agent.js"></script>
  <script src="scripts/quick-action-bar.js"></script>
  <script src="scripts/task-queue.js"></script>
  <script src="scripts/proactive-agent.js"></script>
  <script src="scripts/smart-commands.js"></script>
  <script src="scripts/task-dashboard.js"></script>
  <script src="scripts/app.js"></script>
</body>

</html>